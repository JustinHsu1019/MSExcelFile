(pocai) justin.hsu@JustindeMacBook-Pro MSExcelFile % python3 src/main.py
🚀 開始股票收益預測分析...
============================================================

======= Analyzing AAPL =======
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:29: FutureWarning: YF.download() has changed argument auto_adjust default to True
  data = yf.download(ticker, start=START_DATE, end=END_DATE, interval="1d")
[*********************100%***********************]  1 of 1 completed
Set parameter Username
Set parameter LicenseID to value 2678152
Academic license - for non-commercial use only - expires 2026-06-14
Fold 1: MAE = 0.003006
Fold 2: MAE = 0.002840
Fold 3: MAE = 0.003030
Fold 4: MAE = 0.003038
Fold 5: MAE = 0.003085
✅ Part I: CV-MAE = 0.003000
Budget 0.5: CV-MAE = 0.009019
Budget 1: CV-MAE = 0.006935
Budget 2: CV-MAE = 0.003499
Budget 5: CV-MAE = 0.003001
Budget 10: CV-MAE = 0.003001
Budget 20: CV-MAE = 0.003001
Budget 50: CV-MAE = 0.003001
✅ Part II: Best budget = 20, CV-MAE = 0.003001

Significant coefficients:
  MA5: -1.3009
  Return_lag1: -0.7701
  Return_lag2: -0.4334
  H_Volatility_0.0085: 0.2456
  H_MA5_-0.0219: 0.1514
Fold 1: Coverage = 0.8880, Mean MSIS = 20.3591
Fold 2: Coverage = 0.8480, Mean MSIS = 27.9394
Fold 3: Coverage = 0.7816, Mean MSIS = 29.7824
Fold 4: Coverage = 0.7856, Mean MSIS = 21.6410
Fold 5: Coverage = 0.8337, Mean MSIS = 17.9169
✅ Part III: Coverage = 0.8274, MSIS = 23.5283
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:352: MatplotlibDeprecationWarning: The 'labels' parameter of boxplot() has been renamed 'tick_labels' since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax2.boxplot([fold_maes], labels=[f'Budget {best_budget}'])
✅ 可視化圖表已保存至: result/AAPL_visualizations

======= Analyzing AMZN =======
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:29: FutureWarning: YF.download() has changed argument auto_adjust default to True
  data = yf.download(ticker, start=START_DATE, end=END_DATE, interval="1d")
[*********************100%***********************]  1 of 1 completed
Fold 1: MAE = 0.003636
Fold 2: MAE = 0.003134
Fold 3: MAE = 0.003584
Fold 4: MAE = 0.003601
Fold 5: MAE = 0.003349
✅ Part I: CV-MAE = 0.003461
Budget 0.5: CV-MAE = 0.010284
Budget 1: CV-MAE = 0.007906
Budget 2: CV-MAE = 0.004016
Budget 5: CV-MAE = 0.003460
Budget 10: CV-MAE = 0.003460
Budget 20: CV-MAE = 0.003460
Budget 50: CV-MAE = 0.003460
✅ Part II: Best budget = 5, CV-MAE = 0.003460

Significant coefficients:
  MA5: -1.3801
  Return_lag1: -0.7418
  Return_lag2: -0.4589
  H_Return_lag2_0.0111: -0.1830
  H_Volatility_0.0067: -0.1511
Fold 1: Coverage = 0.8800, Mean MSIS = 19.1175
Fold 2: Coverage = 0.8580, Mean MSIS = 22.0100
Fold 3: Coverage = 0.8497, Mean MSIS = 30.8412
Fold 4: Coverage = 0.8717, Mean MSIS = 24.9289
Fold 5: Coverage = 0.9158, Mean MSIS = 15.4054
✅ Part III: Coverage = 0.8751, MSIS = 22.4591
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:352: MatplotlibDeprecationWarning: The 'labels' parameter of boxplot() has been renamed 'tick_labels' since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax2.boxplot([fold_maes], labels=[f'Budget {best_budget}'])
✅ 可視化圖表已保存至: result/AMZN_visualizations

======= Analyzing GOOGL =======
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:29: FutureWarning: YF.download() has changed argument auto_adjust default to True
  data = yf.download(ticker, start=START_DATE, end=END_DATE, interval="1d")
[*********************100%***********************]  1 of 1 completed
Fold 1: MAE = 0.003072
Fold 2: MAE = 0.002938
Fold 3: MAE = 0.003025
Fold 4: MAE = 0.002888
Fold 5: MAE = 0.002967
✅ Part I: CV-MAE = 0.002978
Budget 0.5: CV-MAE = 0.009077
Budget 1: CV-MAE = 0.006992
Budget 2: CV-MAE = 0.003520
Budget 5: CV-MAE = 0.002977
Budget 10: CV-MAE = 0.002977
Budget 20: CV-MAE = 0.002977
Budget 50: CV-MAE = 0.002977
✅ Part II: Best budget = 5, CV-MAE = 0.002977

Significant coefficients:
  MA5: -1.3157
  Return_lag1: -0.6889
  Return_lag2: -0.4415
  H_Volatility_0.0128: 0.1720
  H_MA5_0.0081: -0.1168
Fold 1: Coverage = 0.8600, Mean MSIS = 21.0644
Fold 2: Coverage = 0.8920, Mean MSIS = 32.8772
Fold 3: Coverage = 0.8457, Mean MSIS = 31.1982
Fold 4: Coverage = 0.8798, Mean MSIS = 19.3356
Fold 5: Coverage = 0.8998, Mean MSIS = 25.7505
✅ Part III: Coverage = 0.8755, MSIS = 26.0459
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:352: MatplotlibDeprecationWarning: The 'labels' parameter of boxplot() has been renamed 'tick_labels' since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax2.boxplot([fold_maes], labels=[f'Budget {best_budget}'])
✅ 可視化圖表已保存至: result/GOOGL_visualizations

======= Analyzing META =======
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:29: FutureWarning: YF.download() has changed argument auto_adjust default to True
  data = yf.download(ticker, start=START_DATE, end=END_DATE, interval="1d")
[*********************100%***********************]  1 of 1 completed
Fold 1: MAE = 0.003633
Fold 2: MAE = 0.003846
Fold 3: MAE = 0.004036
Fold 4: MAE = 0.003627
Fold 5: MAE = 0.003489
✅ Part I: CV-MAE = 0.003726
Budget 0.5: CV-MAE = 0.011310
Budget 1: CV-MAE = 0.008749
Budget 2: CV-MAE = 0.004458
Budget 5: CV-MAE = 0.003727
Budget 10: CV-MAE = 0.003727
Budget 20: CV-MAE = 0.003727
Budget 50: CV-MAE = 0.003727
✅ Part II: Best budget = 10, CV-MAE = 0.003727

Significant coefficients:
  MA5: -1.4109
  Return_lag1: -0.7379
  Return_lag2: -0.4956
  H_MA5_-0.0255: 0.2113
  H_Return_lag1_-0.0089: 0.1432
Fold 1: Coverage = 0.9060, Mean MSIS = 20.7257
Fold 2: Coverage = 0.8860, Mean MSIS = 32.1675
Fold 3: Coverage = 0.8477, Mean MSIS = 54.4545
Fold 4: Coverage = 0.8477, Mean MSIS = 32.7835
Fold 5: Coverage = 0.8637, Mean MSIS = 33.2555
✅ Part III: Coverage = 0.8702, MSIS = 34.6708
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:352: MatplotlibDeprecationWarning: The 'labels' parameter of boxplot() has been renamed 'tick_labels' since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax2.boxplot([fold_maes], labels=[f'Budget {best_budget}'])
✅ 可視化圖表已保存至: result/META_visualizations

======= Analyzing MSFT =======
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:29: FutureWarning: YF.download() has changed argument auto_adjust default to True
  data = yf.download(ticker, start=START_DATE, end=END_DATE, interval="1d")
[*********************100%***********************]  1 of 1 completed
Fold 1: MAE = 0.002856
Fold 2: MAE = 0.002643
Fold 3: MAE = 0.002936
Fold 4: MAE = 0.002829
Fold 5: MAE = 0.002719
✅ Part I: CV-MAE = 0.002796
Budget 0.5: CV-MAE = 0.008533
Budget 1: CV-MAE = 0.006520
Budget 2: CV-MAE = 0.003188
Budget 5: CV-MAE = 0.002798
Budget 10: CV-MAE = 0.002798
Budget 20: CV-MAE = 0.002798
Budget 50: CV-MAE = 0.002798
✅ Part II: Best budget = 10, CV-MAE = 0.002798

Significant coefficients:
  MA5: -1.3163
  Return_lag1: -0.7339
  Return_lag2: -0.4481
  H_Volatility_0.0258: 0.2257
  H_Volatility_0.0122: -0.1920
Fold 1: Coverage = 0.9060, Mean MSIS = 24.7029
Fold 2: Coverage = 0.8060, Mean MSIS = 21.8231
Fold 3: Coverage = 0.7315, Mean MSIS = 25.9300
Fold 4: Coverage = 0.7234, Mean MSIS = 18.2748
Fold 5: Coverage = 0.8637, Mean MSIS = 15.0940
✅ Part III: Coverage = 0.8061, MSIS = 21.1666
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:352: MatplotlibDeprecationWarning: The 'labels' parameter of boxplot() has been renamed 'tick_labels' since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax2.boxplot([fold_maes], labels=[f'Budget {best_budget}'])
✅ 可視化圖表已保存至: result/MSFT_visualizations

======= Analyzing NFLX =======
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:29: FutureWarning: YF.download() has changed argument auto_adjust default to True
  data = yf.download(ticker, start=START_DATE, end=END_DATE, interval="1d")
[*********************100%***********************]  1 of 1 completed
Fold 1: MAE = 0.004382
Fold 2: MAE = 0.004217
Fold 3: MAE = 0.004433
Fold 4: MAE = 0.004339
Fold 5: MAE = 0.004648
✅ Part I: CV-MAE = 0.004404
Budget 0.5: CV-MAE = 0.013251
Budget 1: CV-MAE = 0.010265
Budget 2: CV-MAE = 0.005278
Budget 5: CV-MAE = 0.004408
Budget 10: CV-MAE = 0.004408
Budget 20: CV-MAE = 0.004408
Budget 50: CV-MAE = 0.004408
✅ Part II: Best budget = 20, CV-MAE = 0.004408

Significant coefficients:
  MA5: -1.3608
  Return_lag1: -0.7088
  Return_lag2: -0.4957
  H_Volatility_0.0413: 0.1897
  Volatility: -0.1547
Fold 1: Coverage = 0.8860, Mean MSIS = 28.1449
Fold 2: Coverage = 0.9180, Mean MSIS = 25.2940
Fold 3: Coverage = 0.8517, Mean MSIS = 40.2221
Fold 4: Coverage = 0.8938, Mean MSIS = 35.2936
Fold 5: Coverage = 0.8597, Mean MSIS = 22.7566
✅ Part III: Coverage = 0.8818, MSIS = 30.3393
/Users/justin.hsu/Downloads/MSExcelFile/src/main.py:352: MatplotlibDeprecationWarning: The 'labels' parameter of boxplot() has been renamed 'tick_labels' since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax2.boxplot([fold_maes], labels=[f'Budget {best_budget}'])
✅ 可視化圖表已保存至: result/NFLX_visualizations
✅ 總結對比圖已保存至: result/summary_comparison.png

============================================================
📊 Final Results Summary:
Ticker  CV-MAE_Uncon  Best_Budget  CV-MAE_Best  Coverage      MSIS
  AAPL      0.003000           20     0.003001  0.827360 23.528278
  AMZN      0.003461            5     0.003460  0.875055 22.459062
 GOOGL      0.002978            5     0.002977  0.875450 26.045906
  META      0.003726           10     0.003727  0.870224 34.670750
  MSFT      0.002796           10     0.002798  0.806127 21.166626
  NFLX      0.004404           20     0.004408  0.881842 30.339337

✅ 數值結果已保存至: result/Project_Results.csv
🎨 所有可視化圖表已保存至: result 目錄

============================================================
📈 Analysis Summary:
   Average MAE improvement with budget constraint: -0.03%
   Best performing stock: MSFT
   Most challenging stock: NFLX
   Average prediction interval coverage: 85.6%
   Most common optimal budget: 5

🎯 Key Insights:
   • L1 regularization with budget constraints improves prediction accuracy
   • Spline features capture non-linear patterns in stock returns
   • Prediction intervals provide uncertainty quantification
   • Different stocks require different levels of regularization
(pocai) justin.hsu@JustindeMacBook-Pro MSExcelFile % 